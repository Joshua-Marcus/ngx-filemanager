!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@ctrl/ngx-csv",["exports","@angular/core","@angular/platform-browser"],e):e(((t=t||self).ctrl=t.ctrl||{},t.ctrl["ngx-csv"]={}),t.ng.core,t.ng.platformBrowser)}(this,function(t,e,r){"use strict";function n(t,e,r,n){var o,i=arguments.length,u=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,r,u):o(e,r))||u);return i>3&&u&&Object.defineProperty(e,r,u),u}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return u}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var a=function(t){return Array.isArray(t)&&t.every(function(t){return"object"==typeof t&&!(t instanceof Array)})},c=function(t){return Array.isArray(t)&&t.every(function(t){return Array.isArray(t)})};function s(t){return Array.from(new Set(t.map(function(t){return Object.keys(t)}).reduce(function(t,e){return u(t,e)},[])))}function f(t,e){var r=e=e||s(t),n=e;return a(e)&&(r=e.map(function(t){return t.label}),n=e.map(function(t){return t.key})),u([r],t.map(function(t){return n.map(function(e){return e in t?t[e]:""})}))}var p=function(t){return t||0===t?t:""};function y(t,e){return void 0===e&&(e=","),t.map(function(t,r){return t.map(function(t){return'"'+p(t)+'"'}).join(e)}).join("\n")}function d(t,e,r){return y(e?u([e],t):t,r)}function l(t,e,r){return y(f(t,e),r)}function g(t,e,r){return e?e.join(r)+"\n"+t:t}function v(t,e,r){if(a(t))return l(t,e,r);if(c(t))return d(t,e,r);if("string"==typeof t)return g(t,e,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')}function b(t,e,r,n){void 0===e&&(e=!0);var o=v(t,r,n),i=new Blob([e?"\ufeff":"",o],{type:"text/csv"});return URL.createObjectURL(i)}var m=function(){function t(t){this.sanitizer=t,this.data=[],this.delimiter=",",this.uFEFF=!0,this.download="data.csv",this.target="_blank"}return Object.defineProperty(t.prototype,"filename",{set:function(t){this.download=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.href=this.sanitizer.bypassSecurityTrustResourceUrl(b(this.data,this.uFEFF,this.headers,this.delimiter))},n([e.Input(),o("design:type",Object)],t.prototype,"data",void 0),n([e.Input(),o("design:type",Array)],t.prototype,"headers",void 0),n([e.Input(),o("design:type",Object)],t.prototype,"delimiter",void 0),n([e.Input(),o("design:type",String),o("design:paramtypes",[String])],t.prototype,"filename",null),n([e.Input(),o("design:type",Object)],t.prototype,"uFEFF",void 0),n([e.HostBinding(),o("design:type",Object)],t.prototype,"href",void 0),n([e.HostBinding(),o("design:type",Object)],t.prototype,"download",void 0),n([e.Input(),e.HostBinding(),o("design:type",Object)],t.prototype,"target",void 0),t=n([e.Directive({selector:"[csvLink]"}),o("design:paramtypes",[r.DomSanitizer])],t)}(),h=function(){function t(){}return t=n([e.NgModule({declarations:[m],exports:[m]})],t)}();t.CsvDirective=m,t.CsvModule=h,t.arrays2csv=d,t.buildURI=b,t.elementOrEmpty=p,t.isArrays=c,t.isJsons=a,t.joiner=y,t.jsons2arrays=f,t.jsons2csv=l,t.jsonsHeaders=s,t.string2csv=g,t.toCSV=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ctrl-ngx-csv.umd.min.js.map